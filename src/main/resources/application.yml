server:
  port: 1337

guide:

  # If true, the Guide chatbot will load content from the projects path on startup
  # Snapshots will always be reloaded: other URLs will not
  reload-content-on-startup: false

  projects-path: ./embabel-projects

  # Change to any filename from /src/main/resources/prompts/persona,
  # without the jina extension
  # You can add your own persona files to that directory
  default-persona: adaptive

  chat-llm:
    model: gpt-4.1-mini

  content-chunker:
    include-section-title-in-chunk: false
    max-chunk-size: 4000
    overlap-size: 200

  urls:
    - https://docs.embabel.com/embabel-agent/guide/0.3.1-SNAPSHOT/
    - https://medium.com/@springrod/build-better-agents-in-java-vs-python-embabel-vs-langgraph-f7951a0d855c
    - https://medium.com/@springrod/context-engineering-needs-domain-understanding-b4387e8e4bf8
    - https://github.com/embabel/embabel-agent/blob/main/README.md?plain=1

  tool-groups:


# Spring configuration
# Force web application type (needed because Spring Shell is present)
spring:

  main:
    web-application-type: servlet
  output:
    ansi:
      enabled: always
  profiles:
    active: local  # Change to 'default' in tests to use TestContainers datasource
    config:
      activate:
        on-profile: local


# RAG Adapter Configuration (use "guide" to enable real Guide chatbot, "fake" for testing)
rag:
  adapter:
    type: guide

embabel:
  models:
    llms:
      summarizer: gpt-4.1-nano

    # Change this if you wish to use a non Open AI default embedding model
    default-embedding-model: text-embedding-3-small

    # Change this to use a non Open AI default LLM
    default-llm: gpt-4.1-mini

  agent:
    rag:
      neo:
        uri: ${NEO4J_URI:bolt://localhost:7687}
        username: ${NEO4J_USERNAME:neo4j}
        password: ${NEO4J_PASSWORD:brahmsian}
        max-chunk-size: 1500
        overlap-size: 200


  discord:
    token: ${DISCORD_TOKEN}

  shell:
    line-length: 140


logging:
  level:
    com.embabel.agent.rag: INFO
    com.embabel.agent.rag.tools: DEBUG
    com.embabel.agent.rag.pipeline: DEBUG
    # Drivine logging
    org.drivine: TRACE
    org.drivine.manager: TRACE
    org.drivine.transaction: TRACE
    # WebSocket and Chat logging
    org.springframework.web.socket: INFO
    org.springframework.messaging: INFO
    com.embabel.guide.chat: DEBUG

# Data-source below is used then the 'local' config is active

database:
  dataSources:
    neo:
      type: NEO4J
      userName: ${NEO4J_USERNAME:neo4j}
      password: ${NEO4J_PASSWORD:brahmsian}
      host: ${NEO4J_HOST:localhost}
      port: 7687
      databaseName: neo4j
