# Test configuration
#
# To toggle between local Neo4j and TestContainers:
# Set test.neo4j.use-local below, or environment variable USE_LOCAL_NEO4J=true
# - true: Use local Neo4j (faster, requires Neo4j running on localhost:7687)
# - false (default): Use TestContainers (slower startup, but fully isolated)
#
# The @EnableDrivineTestConfig annotation will:
# - Use these settings as-is when use-local is true
# - Override host/port/password with Testcontainer values when use-local is false

test:
  neo4j:
    use-local: false

OPENAI_API_KEY: test-fake-key

# Use fake RAG adapter in tests (avoids 2-minute timeout waiting for real chatbot)
rag:
  adapter:
    type: fake

# Drivine datasource configuration for tests
database:
  datasources:
    neo:
      host: localhost
      port: 7687
      username: neo4j
      password: brahmsian
      type: NEO4J
      database-name: neo4j

spring:
  ai:
    mcp:
      client:
        enabled: false

embabel:
  agent-platform:
    scanning:
      auto: false

  models:
    default-llm: gpt-4.1-nano
    default-embedding-model: text-embedding-3-small
    embedding-services:
      best: text-embedding-3-small
      cheapest: text-embedding-3-small
    llms:
      best: gpt-4.1-nano
      cheapest: gpt-4.1-nano

# Logging configuration for tests
logging:
  config: classpath:logback-test.xml
  level:
    root: INFO
    drivine: TRACE
    org.drivine: TRACE
    org.drivine.manager: TRACE
    org.drivine.transaction: TRACE
    sample: DEBUG
    org.neo4j.driver: DEBUG
